{"version":3,"sources":["webpack:///./src/templates/post.js"],"names":["PostTemplate","props","_this","_React$Component","call","this","content","React","createRef","componentDidMount","replaceLinks","links","current","getElementsByTagName","length","i","elm","document","createElement","link","parentElement","insertBefore","remove","console","log","attributes","target","renderLink","href","value","text","ReactDOM","render","react__WEBPACK_IMPORTED_MODULE_1___default","a","gatsby__WEBPACK_IMPORTED_MODULE_2__","to","data","site","siteMetadata","currentPage","wordpressPost","_components_layout__WEBPACK_IMPORTED_MODULE_4__","className","slug","dangerouslySetInnerHTML","__html","title","ref","Component","pageQuery"],"mappings":"gNAMMA,cACJ,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OACjBA,EAAAC,EAAAC,KAAAC,KAAMJ,IAANI,MACKC,QAAUC,IAAMC,YAFJN,sCAKnBO,6BACEJ,KAAKK,kBAGPA,wBACE,IAAMC,EAAQN,KAAKC,QAAQM,QAAQC,qBAAqB,KAExD,GAAIF,EAAMG,OAAS,EACjB,IAAK,IAAIC,EAAI,EAAGA,EAAIJ,EAAMG,OAAQC,IAAK,CACrC,IAAMC,EAAMC,SAASC,cAAc,QAC/BC,EAAOR,EAAMI,GACjBI,EAAKC,cAAcC,aAAaL,EAAKG,GACrCA,EAAKG,SACLC,QAAQC,MACHL,EAAKM,WAAWC,QACnBrB,KAAKsB,WAAWX,EAAKG,EAAKM,WAAWG,KAAKC,MAAOV,EAAKW,UAM9DH,oBAAWX,EAAKY,EAAME,GACpBC,IAASC,OAAOC,EAAAC,EAAAhB,cAACiB,EAAA,KAAD,CAAMC,GAAIR,GAAOE,GAAcd,MAGjDgB,kBACuB3B,KAAKJ,MAAMoC,KAAKC,KAAKC,aAA1C,IACMC,EAAcnC,KAAKJ,MAAMoC,KAAKI,cAEpC,OACER,EAAAC,EAAAhB,cAACwB,EAAA,EAAD,KACET,EAAAC,EAAAhB,cAAA,OAAKyB,UAAS,QAAUH,EAAYI,MAClCX,EAAAC,EAAAhB,cAAA,OAAKyB,UAAU,qBACbV,EAAAC,EAAAhB,cAAA,MAAI2B,wBAAyB,CAAEC,OAAQN,EAAYO,SACnDd,EAAAC,EAAAhB,cAAA,OACE8B,IAAK3C,KAAKC,QACVuC,wBAAyB,CAAEC,OAAQN,EAAYlC,kBA1ClCC,IAAM0C,WAmDlBjD,YAER,IAAMkD,EAAS","file":"component---src-templates-post-js-38acfeb46ee7a7296a89.js","sourcesContent":["import React from 'react'\nimport { Link } from 'gatsby'\nimport ReactDOM from 'react-dom'\n\nimport Layout from '../components/layout'\n\nclass PostTemplate extends React.Component {\n  constructor(props) {\n    super(props)\n    this.content = React.createRef()\n  }\n\n  componentDidMount() {\n    this.replaceLinks()\n  }\n\n  replaceLinks() {\n    const links = this.content.current.getElementsByTagName('a')\n\n    if (links.length > 0) {\n      for (let i = 0; i < links.length; i++) {\n        const elm = document.createElement('span')\n        let link = links[i]\n        link.parentElement.insertBefore(elm, link)\n        link.remove()\n        console.log()\n        if (!link.attributes.target) {\n          this.renderLink(elm, link.attributes.href.value, link.text)\n        }\n      }\n    }\n  }\n\n  renderLink(elm, href, text) {\n    ReactDOM.render(<Link to={href}>{text}</Link>, elm)\n  }\n\n  render() {\n    const siteMetadata = this.props.data.site.siteMetadata\n    const currentPage = this.props.data.wordpressPost\n\n    return (\n      <Layout>\n        <div className={`page ${currentPage.slug}`}>\n          <div className=\"page-content post\">\n            <h1 dangerouslySetInnerHTML={{ __html: currentPage.title }} />\n            <div\n              ref={this.content}\n              dangerouslySetInnerHTML={{ __html: currentPage.content }}\n            />\n          </div>\n        </div>\n      </Layout>\n    )\n  }\n}\n\nexport default PostTemplate\n\nexport const pageQuery = graphql`\n  query($id: String!) {\n    wordpressPost(id: { eq: $id }) {\n      title\n      content\n      date(formatString: \"MMMM DD, YYYY\")\n      slug\n    }\n    site {\n      id\n      siteMetadata {\n        title\n      }\n    }\n  }\n`\n"],"sourceRoot":""}